title = "Kurzy"
url = "/kurzy"
layout = "Default"
is_hidden = 0
==

function onStart() {
    $this["courses"] = Db::table("academymod_createcourse_create_courses")->get();
}

==
<div id="courses">
    <div class="courses-container">
        <div class="card course-card" v-for="course in courses" :key="course.name">
            <img class="card-img-top" src="themes\KurzCademy\assets\Img\KurzPhotos\HybridLab.jpg" alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title" v-text="course.name"></h5>
                <p class="card-text" v-text="course.description"></p>
                {% if user %}
                <a class="btn btn-primary" :href="`course?id=${course.id}`">Začať</a>
                {% else %}
                <a onclick="openPopup('login')" class="btn btn-primary">Prihlasiť sa</a>
                {% endif %}
            </div>
        </div>
    </div>
</div>
<script>
    var courses = parsePHPData(`{{ courses }}`)

    var vm = new Vue({
        el: "#courses",
        data: {
            courses
        }
    })
</script>
